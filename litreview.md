# Обзор литературы

## 1. REVIEW ON OPTICAL CHARACTER RECOGNITION (2019) [1]
### Muna Ahmed Awel, Ali Imam Abidi
Статья являет собой обзор существующих решений. В ней обозреваются работы, авторы которых решали задачу OCR, без погружения в применённые ими подходы. Приводятся примеры решения этой задачи для разных языков, в частности для английского, арабского и деванагари. К сожалению, все примеры описываются очень поверхностно, а упомянутые авторами работы часто нельзя назвать современными даже на момент написания статьи.

Также авторы описывают саму задачу OCR, в частности то, из каких шагов она состоит:
- Получение изображение
- Препроцессинг данных - очищение от шумов, 
- Сегментация изображения на графические составляющие - строки, слова и символы.
- Извлечение фичей для дальнейшей классификации
- Классификация - обучение модели и её применение
- Пост-процессинг - корректировка результатов, например, исходя из контекста.

Говоря о проблемах, которые могут возникать при решении такого рода задач, авторы в описывают сложности с данными (изображениями): наклон плоскости с текстом; сложность визуальной среды (напр. большое число вывесок, объектов на фоне); стилизация надписи; размытость и неравномерное освещение.

## 2. Script and language identification for handwritten document images (1999) [2]
### Judith Hochberg, Kevin Bowers, Michael Cannon, Patrick Kelly
Данная статья интересна с точки зрения того, как решали задачу распознавания рукописного текста до того, как ML-решения получили широкое распространение. Важно отметить, что в данной работе не решается задача OCR - в ней решается задача распознавания языка, на котором написан рукописный текст. Авторы работают с мультиязычными данными, попутно с задачей распознавания символов решая задачу определения языка по рукописному тексту. Применённые ими решения могут послужить вдохновением для решения задач, включённых в комплексную задачу OCR.

Авторы извлекали из изображения связные компоненты, то есть не имеющие графических разрывов части рукописного  текста. Фичами выступало пять характеристик этих компонент: 
- смещение центроида компоненты  по оси Y
- смещение центроида компоненты по оси X
- число "отвертий" в компоненте (например, одна буква В имеет два таких отверстия, Р - одно)
- округлость компоненты
- соотношение ширины к высоте

По этим метрикам рассчитывалось среднее, стандартное отклонение и ассиметричность распределения - для каждого изображения образуется вектор из 15 значений. Для классификации был применён линейный дискриминантный анализ (LDA). Применяя линейный алгоритм классификации, авторы достигли средней точности в 88% в решении поставленной задачи.

## 3. Text-based Image Segmentation Methodology (2014)
### Mehul, G., Ankita, P., Namrata, D., Rahul, G., & Sheth, S.
В данной статье обозреваются подходы к решению задачи сегментации изображения текстового документа. Для начала авторы выделяют три уровня сегментации документа:
- на строки. В данном случае что текст может идти по кривой линии, что само по себе порождает проблемы для  дальнейшей работы - сложнее определить центральную линию строки, необходимо корректировать неровность строки, усложняется дальнейшая сегментация
- на слова. На этом уровне обычно исходят из плотности расположения пикселей, содержащих надпись. В зависимости от задачи может потребоваться корректировка наклона текста. 
- на символы.  На данном уровне сложность представляет избыточная сегментация (например, если "w" распознаётся как две "v"), и лигатуры - черты, соединяющими смежные буквы, из-за которых можно принять смежные "l" и "i" за "h".

Затем авторы описывают методы сегментации изображений документа. В общем случае документ представляется как сетка закрашенных(чёрных) и незакрашенных(белых) пикселей. Сложность задачи сильно зависит от того, какие ограничения записи задаёт изначальный документ. Например, наличие разлиновки облегчает задачу. <br/>
A. **Подсчёт пикселей**. Среди последовательных горизонтальных рядов пикселей можно найти такие, в которых число пикселей либо равно нулю, либо минимально. При наличии разлиновки задача сегментации на строки упрощается - можно рассчитать высоту одной строки и разбить документ на участки равной высоты.
B. **Гистограмма**. Можно спроецировать закрашенные пиксели на ось Y или ось X воображаемой системы координат. Таким образом в рамках самого документа можно получить проекцию строк, в которой локальные минимумы будут точками разграничения строк (а максимумы можно взять как центральные линии строк). Этот подход можно расширить и для сегментации строки на слова, аналогичным образом проецируя строку на ось Х.
C. **Закрашивание** подразумевает превращение незакрашенных пикселей в закрашенные в случае, если они находятся в предопределённой близости с чёрными пикселями. Границы образовавшихся разросшихся силуэтов слов можно принять за границы соответсвующих строк. <br/>
D. **Стохастический подход** подразумевает представление документа как множества ячеек цепи Маркова (HMM). Путь сегментации рассчитывается как путь, наименьшим образом соприкасающийся с закрашенными ячейками. Таким образом может быть прочерчен путь между двумся смежными строками, однако возникают сложности на участках документа с большим числом закрашенных ячеек. <br/>
E. **Модель потока воды**. Умозрительный поток воды пересекает документ слева напрво и сверху вниз, и обтекает буквы как препятствие (физический процесс математически моделируется). Таким образом, проход слева направо позволяет выделить "сухие" и "мокрые" зоны, из которых "сухие" и будут являться строками текста.

Авторы делают вывод, что разные подходы подходят лучше для разных ситуаций - более простые алгоритмы предполагают более простую структуру документа. 


## 4.  A New Character Segmentation Approach for Off-Line Cursive Handwritten Words. (2013)
### Choudhary, Amit & Rishi, Rahul & Savita, Ahlawat. 
Статья посвящена сегментации изображений слов на отдельные символы. Авторами достаточно подробно описана работа с данными, в том числе их предобработка. После предобработки изображения слов выглядят как изображения тонких линий чёрного цвета на белом фоне, формирующих слово - это результат трешолдинга, скелетизации и очистки от шума. И препроцессинг, и применение методологии авторы сопровождают наглядными визуализациями на нескольких примерах.

Авторы предлагают методологию, основанную на анализе изображения слова проходам по колонкам пикселей. В изображении слова можно провести в изображение вертикальные черты, обозначающие границу смежных символов. Если в колонке пикселей содержится 1 чёрный пиксель, то можно предположить, что в этом месте есть либо разрыв между символами, либо лигатура; если их 0, то это разрыв между символами.

Разумеется, сам по себе такой подход приводит к избыточной сегментации. Например, каждая колонка в области разрыва между символами будет подходящей гранцей сегментации. Для борьбы с этим авторы предлагают усреднять порядковый номер колонок - нескольких последовательный вертикальных разделительных черт - в случае, если они расположены на разрыве между буквами. Границу при наличии лигатур определить сложнее, ведь в некоторых случаях в пределах самой буквы, например, 'm' в вертикальной колонке может оказаться один чёрный пиксель. В таком случае можно усреднить позицию разделяющей черты, если расстояние в пикселях между соседними чертами меньше пограничного значения - экспериментальым путём авторами подобрано число 7.

В результате применения описанного подхода авторы добились верной сегментации 83% слов, при этом в 7% случаев граница была проведена посреди символа. Авторы данной работы предполагают, что можно добиться лучших результатов, приложив больше усилий к предобработке данных (избавление от наклона букв) и добавив в методологию умную валидацию точки сегментации, например на основе нейронных сетей.



[1] Awel, M. A., Abidi, A. I.: Review on optical character recognition. no. June, pp. 3666–3669, (2019) <br/>
[2] Hochberg, J., Bowers, K., Cannon, M. et al. Script and language identification for handwritten document images. IJDAR 2, 45–52 (1999). https://doi.org/10.1007/s100320050036 <br/>
[3] Mehul, G., Ankita, P., Namrata, D., Rahul, G., & Sheth, S. Text-based image segmentation methodology. Procedia Technology, 14, 465-472 (2014). https://doi.org/10.1016/j.protcy.2014.08.059<br/>
[4] Choudhary, Amit & Rishi, Rahul & Savita, Ahlawat. A New Character Segmentation Approach for Off-Line Cursive Handwritten Words. Procedia Computer Science. 17. 88–95. (2013). https://doi.org/10.1016/j.procs.2013.05.013. <br/>



[TD] Abdallah, Abdelrahman, Mohamed Hamada, and Daniyar Nurseitov. 2020. "Attention-Based Fully Gated CNN-BGRU for Russian Handwritten Text" Journal of Imaging 6, no. 12: 141. https://doi.org/10.3390/jimaging6120141  <br/>
[TD] Sanchez, A. & Suarez, P.D. & Mello, Carlos & Oliveira, Adriano & Alves, V.M.O.. (2008). Text Line Segmentation in Images of Handwritten Historical Documents. 1 - 6. 10.1109/IPTA.2008.4743758.
